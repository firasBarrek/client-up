<div ng-if="!vm.readOnly" class="markdown-tools" ng-class="vm.preview && 'disable'">
  <span class="markdown-preview-toggle">
    <a class="markdown-tools-badge h-icon-markdown" href="https://help.github.com/articles/markdown-basics" title="Analysé comme Markdown" target="_blank"></a>
    <a href="" class="markdown-tools-toggle" ng-click="vm.togglePreview()"
      ng-show="!vm.preview">Aperçu</a>
    <a href="" class="markdown-tools-toggle" ng-click="vm.togglePreview()"
      ng-show="vm.preview">Écrire</a>
  </span>
  <i class="h-icon-format-bold markdown-tools-button" ng-click="vm.insertBold()" title="Texte enhardi"></i>
  <i class="h-icon-format-italic markdown-tools-button" ng-click="vm.insertItalic()" title="Mettre en italique le texte"></i>
  <i class="h-icon-format-quote markdown-tools-button" ng-click="vm.insertQuote()" title="Texte de citation"></i>
  <i class="h-icon-insert-link markdown-tools-button" ng-click="vm.insertLink()" title="Insérer un lien"></i>
  <i class="h-icon-insert-photo markdown-tools-button" ng-click="vm.insertIMG()" title="Insérer une image"></i>
  <i class="h-icon-functions markdown-tools-button" ng-click="vm.insertMath()" title="Insérer une notation mathématique (LaTex est supporté)"></i>
  <i class="h-icon-format-list-numbered markdown-tools-button" ng-click="vm.insertNumList()" title="Insérer une liste numérotée"></i>
  <i class="h-icon-format-list-bulleted markdown-tools-button" ng-click="vm.insertList()" title="Insérer une liste"></i>
</div>
<textarea class="form-input js-markdown-input"
          ng-show="vm.showEditor()"
          ng-click="$event.stopPropagation()"
          h-branding="annotationFontFamily"></textarea>
<div class="markdown-body js-markdown-preview"
     ng-class="(vm.preview && 'markdown-preview') || vm.customTextClass"
     ng-dblclick="vm.togglePreview()"
     ng-show="!vm.showEditor()"
     h-branding="annotationFontFamily"></div>
